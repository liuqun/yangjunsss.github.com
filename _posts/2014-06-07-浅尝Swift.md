---
layout: post
title: 浅尝Swift（待续）
categories: [ios]
tags: [ios8, swift]
fullview: false
keywords: ios8,Swift language
description: 

---

在看了Swift的Guide，从自己对语言的理解来看Swift；）再看sf之前，我开始怀疑语言变得越来越聪明，Dev会不会变得越来越“蠢”？拭目以待～

**1.忘记基本类型和冗余的code吧**

sf的变量定义都成了var，let，基本数据类型也成了Int，Double，String等，这些都成了对象，甚至enum这种东西都拥有了this指针和方法，所以忘记基本类型吧。

Apple一向的做事风格就是简化：去掉了；分隔符，if()，switch中的break等等，真给懒人造福。

**2.有点虚名的类型定义**

在定义的时候不需要定义变量的Type了，但还是强类型的语言，只是在assign的时候sf帮你做type check来确定type。

**3.Tuples，再不用传地址了！**

这个东西不错，可以让函数返回多个结果值，之前函数返回都是单一返回值，虽然可以利用class或structs来包装多个值，但总是很懒地写，现在可以不用了，点赞。

**4.Optional Value，让语义更明确**

刚开始看OV的时候，不太明白Apple的用意，后来慢慢体会到这个东西似乎是让code看起来更明确并且省掉了if(x!=nil)的判断，OV的意思是这个变量是不确定的，要么有值，要么为nil(初始化的时候为nil)

**5.终于不要写那么长长长长的for循环了**

另一个好东西：Range Operation，用x..y表示[x,y)，用x...y表示[x,y],这样在写for的时候就可以很简单的写为:for 0..count in{}，又少了很多无聊的code ；p

**6.Array && Dic**

两者都只支持单一类型了，比较赞的是支持+=操作符，直接 array+=array1,array+=element. 都支持forin操作，iterator也省事了很多。

**7.闭包的延伸品——全局函数Function、内嵌Function**

默认参数值，多个返回值，多个参数名定义，不确定参数个数，除了方便还是方便，不过特别注意的是Function的参数默认都是值传递并且是常量，如果需要更改参数内容则加上var，如果要传递指针让更改生效，则加上inout，并且还支持参数默认值。

**8.把简洁做到极致的closure写法**

往一个sort函数里传入closure来做排序是很常用的写法，比如swift的写法如下：

{% highlight objective-c %}
reversed = sort(names, { (s1: String, s2: String) -> Bool in
return s1 > s2
})
{% endhighlight %}

摘录来自: Apple Inc. “The Swift Programming Language”。 iBooks. https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewBook?id=881256329

上面这段code等同于:

{% highlight objective-c %}
reversed = sort(names,>)
{% endhighlight %}

你们感受一下

**9.Structs和enum都是值传递，Dic是值传递，Array选择性copy

意味着var structs_a = structs_b这个简单的赋值操作都需要进行copy,但Array又是share同一个instance，除非改变了length就copy成新的Array，有点奇怪，可能是个坑- -
